<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>result</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Naver Maps JS + Geocoder submodule -->
    <script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=iithl38emp&submodules=geocoder"></script>

</head>
<body>
    <div class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden" style='font-family: Manrope, "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f5] px-10 py-3">
          <div class="flex items-center gap-4 text-[#111418]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6_330)">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M24 0.757355L47.2426 24L24 47.2426L0.757355 24L24 0.757355ZM21 35.7574V12.2426L9.24264 24L21 35.7574Z"
                    fill="currentColor"
                  ></path>
                </g>
                <defs>
                  <clipPath id="clip0_6_330"><rect width="48" height="48" fill="white"></rect></clipPath>
                </defs>
              </svg>
            </div>
            <h2 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]">Drawmind</h2>
          </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a class="text-[#111418] text-sm font-medium leading-normal" href="#">Home</a>
              <a class="text-[#111418] text-sm font-medium leading-normal" href="#">About</a>
          <!--<a class="text-[#111418] text-sm font-medium leading-normal" href="#">Services</a>
             <a class="text-[#111418] text-sm font-medium leading-normal" href="#">Contact</a> --> 
            </div>
          </div>
        </header>
        <div class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden" style='font-family: Manrope, "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f5] px-10 py-3">
          <div class="flex items-center gap-4 text-[#111418]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6_330)">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M24 0.757355L47.2426 24L24 47.2426L0.757355 24L24 0.757355ZM21 35.7574V12.2426L9.24264 24L21 35.7574Z"
                    fill="currentColor"
                  ></path>
                </g>
                <defs>
                  <clipPath id="clip0_6_330"><rect width="48" height="48" fill="white"></rect></clipPath>
                </defs>
              </svg>
            </div>
            <h2 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]">Drawmind</h2>
          </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a class="text-[#111418] text-sm font-medium leading-normal" href="#">Home</a>
              <a class="text-[#111418] text-sm font-medium leading-normal" href="#">About</a>
            </div>
          </div>
        </header>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">

            <div class="flex flex-col gap-4 px-4 py-6">
              <h2 class="text-[#111418] tracking-light text-[28px] font-bold leading-tight text-center pb-3 pt-5">ì¸¡ì • ê²°ê³¼</h2>
              <div class="flex flex-wrap gap-4">
                <div class="flex min-w-72 flex-1 flex-col gap-2 rounded-xl border border-[#dbe0e6] p-6">
                  <p class="text-[#111418] text-base font-medium leading-normal">ì¸ì§€ ì˜ì—­</p>
                  <p class="text-[#111418] tracking-light text-[32px] font-bold leading-tight truncate">í‰ê·  ì ìˆ˜</p>
                  <div class="grid min-h-[180px] grid-flow-col gap-6 grid-rows-[1fr_auto] items-end justify-items-center px-3">
                    <div class="border-[#60758a] bg-[#f0f2f5] border-t-2 w-full" style="height: 30%;"></div>
                    <p class="text-[#60758a] text-[13px] font-bold leading-normal tracking-[0.015em]">ê¸°ì–µë ¥</p>
                    <div class="border-[#60758a] bg-[#f0f2f5] border-t-2 w-full" style="height: 30%;"></div>
                    <p class="text-[#60758a] text-[13px] font-bold leading-normal tracking-[0.015em]">ì§€ë‚¨ë ¥</p>
                    <div class="border-[#60758a] bg-[#f0f2f5] border-t-2 w-full" style="height: 90%;"></div>
                    <p class="text-[#60758a] text-[13px] font-bold leading-normal tracking-[0.015em]">ì–¸ì–´ì˜ì—­</p>
                    <div class="border-[#60758a] bg-[#f0f2f5] border-t-2 w-full" style="height: 70%;"></div>
                    <p class="text-[#60758a] text-[13px] font-bold leading-normal tracking-[0.015em]">íŒë‹¨ë ¥</p>
                    <div class="border-[#60758a] bg-[#f0f2f5] border-t-2 w-full" style="height: 100%;"></div>
                    <p class="text-[#60758a] text-[13px] font-bold leading-normal tracking-[0.015em]">ì‹œê³µê°„ëŠ¥ë ¥</p>
                  </div>
                </div>
              </div>
              <p class="text-[#111418] text-lg font-normal leading-normal pb-3 pt-1 px-4 text-center">
                ì¸ì§€ í‰ê°€ ê²°ê³¼ì— ë”°ë¥´ë©´, <strong>ê¸°ì–µë ¥</strong>ê³¼ <strong>ì§€ë‚¨ë ¥</strong> ì˜ì—­ì—ì„œ ì•½ê°„ì˜ ì–´ë ¤ì›€ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. <br>
                ì¸ì§€ ê±´ê°•ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì´ ë¶€ë¶„ë“¤ì„ ì¼ì°ë¶€í„° ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
              </p>
            </div>

            <div class="flex flex-col gap-4 px-4 py-6">
              <h2 class="text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">ë‹¤ìŒ ë‹¨ê³„</h2>
              <div class="border border-[#dbe0e6] rounded-xl p-6">
                <p class="text-[#111418] text-lg font-normal leading-normal text-center">
                  ì¸ì§€ ê±´ê°•ì€ ìš°ë¦¬ ëª¸ì²˜ëŸ¼ ê¾¸ì¤€í•œ ê´€ë¦¬ê°€ í•„ìš”í•´ìš”. <br>
                  ì „ë¬¸ê°€ì˜ ë„ì›€ì„ ë°›ëŠ” ê²ƒì´ ê°€ì¥ í™•ì‹¤í•˜ê³  ì•ˆì „í•œ ë°©ë²•ì…ë‹ˆë‹¤. <br><br>
                  <strong>ì˜ë£Œ ì „ë¬¸ê°€ì™€ ìƒë‹´</strong>: ê°€ê¹Œìš´ ë³‘ì›ì´ë‚˜ ë³´ê±´ì†Œì—ì„œ ì „ë¬¸ì˜ì™€ ìƒë‹´í•´ë³´ì„¸ìš”. <br>
                  <strong>ì¡°ê¸° ë°œê²¬ì˜ ì¤‘ìš”ì„±</strong>: ì¼ì°ë¶€í„° ê´€ë¦¬í•˜ë©´ ì¸ì§€ ëŠ¥ë ¥ì„ ê±´ê°•í•˜ê²Œ ìœ ì§€í•˜ëŠ” ë° í° ë„ì›€ì´ ë©ë‹ˆë‹¤.
                </p>
              </div>
            </div>

            <div class="flex flex-col gap-4 px-4 py-6">
              <h2 class="text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">ì¼ìƒìƒí™œì—ì„œ ì‹¤ì²œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ë“¤</h2>
              <div class="border border-[#dbe0e6] rounded-xl p-6">
                <ul class="list-none p-0 m-0">
                  <li class="text-[#111418] text-lg font-normal leading-normal mb-4">
                    <strong>ğŸ§  ì¸ì§€ í›ˆë ¨ í”„ë¡œê·¸ë¨</strong>: ê¸°ì–µë ¥ì„ ì¦ì§„ì‹œí‚¤ëŠ” í›ˆë ¨ í”„ë¡œê·¸ë¨ì— ì°¸ì—¬í•´ ë³´ì„¸ìš”.
                  </li>
                  <li class="text-[#111418] text-lg font-normal leading-normal mb-4">
                    <strong>ğŸ¨ ìƒˆë¡œìš´ ì·¨ë¯¸ ìƒí™œ</strong>: ê·¸ë¦¼ ê·¸ë¦¬ê¸°, ì•…ê¸° ë°°ìš°ê¸° ë“± ë¨¸ë¦¬ë¥¼ ìê·¹í•˜ëŠ” í™œë™ì„ ì‹œì‘í•´ ë³´ì„¸ìš”.
                  </li>
                  <li class="text-[#111418] text-lg font-normal leading-normal mb-4">
                    <strong>ğŸƒâ€â™‚ï¸ ê·œì¹™ì ì¸ ìƒí™œ ìŠµê´€</strong>: ê· í˜• ì¡íŒ ì‹ì‚¬ë¥¼ í•˜ê³ , ê¾¸ì¤€íˆ ê±·ê¸° ìš´ë™ì„ í•´ë³´ì„¸ìš”.
                  </li>
                  <li class="text-[#111418] text-lg font-normal leading-normal">
                    <strong>ğŸ—£ï¸ ì‚¬íšŒ í™œë™ ì°¸ì—¬</strong>: ì¹œêµ¬ë¶„ë“¤ê³¼ ë§Œë‚˜ ëŒ€í™”í•˜ê±°ë‚˜, ë™í˜¸íšŒ í™œë™ì— ì°¸ì—¬í•´ ë³´ì„¸ìš”.
                  </li>
                </ul>
              </div>
            </div>


            <h2 class="text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">
Â  Â  Â  Â  Â  Â   ì£¼ë³€ ì§€ì› ì„¼í„°
Â  Â  Â  Â  Â  Â  </h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="map" class="mx-4 rounded-xl border border-[#dbe0e6]" style="height: 420px;"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="center-list" class="px-4 py-3 grid gap-3"></div>

Â  Â  Â  Â  Â  Â  <div class="flex px-4 py-3">
Â  Â  Â  Â  Â  Â  Â  <div
Â  Â  Â  Â  Â  Â  Â  Â  class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl object-cover"
Â  Â  Â  Â  Â  Â  Â  Â  style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDzH3wSNKos48dF4gJKVP_tdol_zkb6KCtAKgmIeecUvK-aUe9Pq5a45bTJomNi--soSDjN7D-VDMyI_YrqAUMmvuuOvD0ppbwROqm9OkOp2ZEmJNF73indqoIwB6CCEgoeV3-k4KLOLzOIMcQBSAFMySbiRT8m8KrgnMsrMVbp_n3lkLrglOWTwmIO3POUat8k4wv77hIAz-OaWod1rYU9pF2QzMwPTfmM8373ayAcmEV84_1DbmOXcR4T0XU02P280qE-dyq_rw");'
Â  Â  Â  Â  Â  Â  Â  ></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <p class="text-[#111418] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">
Â  Â  Â  Â  Â  Â  Â  Find support centers near you that offer resources and programs tailored to cognitive health. These centers provide valuable assistance and guidance for managing
Â  Â  Â  Â  Â  Â  Â  cognitive changes.
Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  <h2 class="text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Importance of Early Intervention</h2>
Â  Â  Â  Â  Â  Â  <p class="text-[#111418] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">
Â  Â  Â  Â  Â  Â  Â  Early detection and treatment of cognitive issues can slow progression and improve quality of life. Regular assessments and proactive management are key to
Â  Â  Â  Â  Â  Â  Â  maintaining cognitive well-being. Don't hesitate to seek professional advice and support.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  Â  Â  <script>
Â  Â  Â  const $ = (sel) => document.querySelector(sel);
Â  Â  Â  let map;

Â  Â  Â  // ì§€ë„ SDK ë¡œë“œ í™•ì¸
Â  Â  Â  function ensureNaverLoaded() {
Â  Â  Â  Â  if (typeof naver === "undefined" || !naver.maps) {
Â  Â  Â  Â  Â  console.error("[NAVER] maps.jsê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ncpClientId ë˜ëŠ” í—ˆìš© ë„ë©”ì¸ ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.");
Â  Â  Â  Â  Â  alert("ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì½˜ì†” ì˜¤ë¥˜ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.");
Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  }
Â  Â  Â  Â  return true;
Â  Â  Â  }

Â  Â  Â  // í´ë°± ì¢Œí‘œ(ì„œìš¸ì‹œì²­)
Â  Â  Â  const DEFAULT_CENTER = { lat: 37.5665, lng: 126.9780 };

Â  Â  Â  // ê³µí†µ ì´ˆê¸°í™”
Â  Â  Â  function initMapAt(lat, lng, isFallback) {
Â  Â  Â  Â  if (!ensureNaverLoaded()) return;

Â  Â  Â  Â  const center = new naver.maps.LatLng(lat, lng);
Â  Â  Â  Â  map = new naver.maps.Map('map', { center, zoom: 14 });

Â  Â  Â  Â  new naver.maps.Marker({
Â  Â  Â  Â  Â  position: center,
Â  Â  Â  Â  Â  map,
Â  Â  Â  Â  Â  title: isFallback ? "ê¸°ë³¸ ìœ„ì¹˜(ì„œìš¸ì‹œì²­)" : "í˜„ì¬ ìœ„ì¹˜"
Â  Â  Â  Â  });

Â  Â  Â  Â  if (isFallback) {
Â  Â  Â  Â  Â  const listEl = $("#center-list");
Â  Â  Â  Â  Â  const tip = document.createElement("div");
Â  Â  Â  Â  Â  tip.className = "text-sm text-[#60758a]";
Â  Â  Â  Â  Â  tip.textContent = "í˜„ì¬ ìœ„ì¹˜ ì‚¬ìš©ì´ ê±°ë¶€/ì‹¤íŒ¨ë˜ì–´ ê¸°ë³¸ ìœ„ì¹˜(ì„œìš¸ì‹œì²­)ë¡œ ì•ˆë‚´ ì¤‘ì…ë‹ˆë‹¤.";
Â  Â  Â  Â  Â  listEl.prepend(tip);
Â  Â  Â  Â  }

Â  Â  Â  Â  loadNearbyCenters(lat, lng);
Â  Â  Â  }

Â  Â  Â  // í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜(ì‹¤íŒ¨ ì‹œ í´ë°±)
Â  Â  Â  function initMapWithMyLocation() {
Â  Â  Â  Â  if (!navigator.geolocation) {
Â  Â  Â  Â  Â  console.warn("ì§€ì˜¤ë¡œì¼€ì´ì…˜ ë¯¸ì§€ì› â†’ í´ë°±");
Â  Â  Â  Â  Â  initMapAt(DEFAULT_CENTER.lat, DEFAULT_CENTER.lng, true);
Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  navigator.geolocation.getCurrentPosition(
Â  Â  Â  Â  Â  (pos) => {
Â  Â  Â  Â  Â  Â  const lat = pos.coords.latitude;
Â  Â  Â  Â  Â  Â  const lng = pos.coords.longitude;
Â  Â  Â  Â  Â  Â  initMapAt(lat, lng, false);
Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  (err) => {
Â  Â  Â  Â  Â  Â  console.error("geolocation error:", err);
Â  Â  Â  Â  Â  Â  alert("ìœ„ì¹˜ ê¶Œí•œì„ í—ˆìš©í•˜ì§€ ì•Šì•„ ê¸°ë³¸ ìœ„ì¹˜ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.");
Â  Â  Â  Â  Â  Â  initMapAt(DEFAULT_CENTER.lat, DEFAULT_CENTER.lng, true);
Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  { enableHighAccuracy: true, timeout: 10000 }
Â  Â  Â  Â  );
Â  Â  Â  }

Â  Â  Â  function renderCenters(items) {
Â  Â  Â  Â  const listEl = $("#center-list");
Â  Â  Â  Â  listEl.innerHTML = "";

Â  Â  Â  Â  items.forEach((it) => {
Â  Â  Â  Â  Â  const latlng = new naver.maps.LatLng(it.lat, it.lng);
Â  Â  Â  Â  Â  const marker = new naver.maps.Marker({ position: latlng, map });
Â  Â  Â  Â  Â  const info = new naver.maps.InfoWindow({
Â  Â  Â  Â  Â  Â  content: `
Â  Â  Â  Â  Â  Â  Â  <div style="padding:8px;max-width:240px;">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-weight:700;margin-bottom:4px;">${it.title}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size:12px;color:#444;">${it.roadAddress || it.address || ""}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size:12px;color:#444;">${it.telephone || ""}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-top:6px;font-size:12px;">ê±°ë¦¬: ${it.distance_km.toFixed(1)} km</div>
Â  Â  Â  Â  Â  Â  Â  </div>`
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  naver.maps.Event.addListener(marker, "click", () => {
Â  Â  Â  Â  Â  Â  info.open(map, marker);
Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  const card = document.createElement("div");
Â  Â  Â  Â  Â  card.className = "rounded-lg border border-[#dbe0e6] p-3";
Â  Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  Â  <div class="text-sm font-bold">${it.title}</div>
Â  Â  Â  Â  Â  Â  <div class="text-sm text-[#60758a]">${it.roadAddress || it.address || ""}</div>
Â  Â  Â  Â  Â  Â  <div class="text-sm">${it.telephone || ""}</div>
Â  Â  Â  Â  Â  Â  <div class="text-xs text-[#60758a]">ì•½ ${it.distance_km.toFixed(1)} km</div>
Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  listEl.appendChild(card);
Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  async function loadNearbyCenters(lat, lng) {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  const url = `http://localhost:8001/api/centers?lat=${lat}&lng=${lng}`;
Â  Â  Â  Â  Â  const r = await fetch(url);
Â  Â  Â  Â  Â  if (!r.ok) {
Â  Â  Â  Â  Â  Â  const txt = await r.text();
Â  Â  Â  Â  Â  Â  console.error("API error:", r.status, txt);
Â  Â  Â  Â  Â  Â  alert("ì„¼í„° ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n${txt}");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  const data = await r.json();
Â  Â  Â  Â  Â  if (data.error) {
Â  Â  Â  Â  Â  Â  console.error("API returned error:", data);
Â  Â  Â  Â  Â  Â  alert("API ì¸ì¦/ìš”ì²­ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. (ì½˜ì†” í™•ì¸)");
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  renderCenters(data.items || []);
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  console.error(e);
Â  Â  Â  Â  Â  alert("ì„¼í„° ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  // ì‹œì‘!
Â  Â  Â  initMapWithMyLocation();
Â  Â  </script>
</body>
</html>